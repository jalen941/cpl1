program : statement_list

statement_list : statement
               | statement statement_list

statement : import_statement
          | variable_definition
          | function_definition
          | display_statement

import_statement : IMPORT STRING_LITERAL
                 | USE STRING_LITERAL

variable_definition : VARIABLES variable_list END_VARIABLES

variable_list : variable_definition
              | variable_definition variable_list

variable_definition : DEFINE IDENTIFIER OF TYPE
                   | DEFINE IDENTIFIER OF identifier_type

identifier_type : INT
                | STRING
                | DOUBLE
                | BOOL
                | CUSTOM_TYPE

function_definition : FUNCTION IDENTIFIER IS function_body END_FUNCTION

function_body : variables_block BEGIN statements END

variables_block : VARIABLES variable_list END_VARIABLES

statements : statement
           | statement statements

statement : assignment_statement
          | display_statement
          | if_statement
          | function_call_statement

assignment_statement : SET IDENTIFIER EQUALS expression

display_statement : DISPLAY STRING_LITERAL
                  | DISPLAY IDENTIFIER

if_statement : IF condition THEN statements ENDIF

condition : expression COMPARISON_OPERATOR expression

function_call_statement : IDENTIFIER argument_list

argument_list : expression
              | expression argument_list

expression : IDENTIFIER
           | NUMBER
           | expression OPERATOR expression

NUMBER : [0-9]+
IDENTIFIER : [a-zA-Z_][a-zA-Z0-9_]*
STRING_LITERAL : "\"" [^\"]* "\""

IMPORT : "import"
USE : "use"
VARIABLES : "variables"
END_VARIABLES : "endvariables"
DEFINE : "define"
FUNCTION : "function"
IS : "is"
BEGIN : "begin"
END : "end"
SET : "set"
DISPLAY : "display"
IF : "if"
THEN : "then"
ENDIF : "endif"
OPERATOR : "+" | "-" | "*" | "/"
COMPARISON_OPERATOR : "==" | "!=" | "<" | ">" | "<=" | ">="

